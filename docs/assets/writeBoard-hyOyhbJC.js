import"./tailwind-xU_d6Hf1.js";import{g as r,a as p,C as S}from"./delay-g6vF19wW.js";import{i as s}from"./insert-yGrdL5nD.js";import{g as k}from"./storage-eNv634Ip.js";import{a as B}from"./formattedDate-dxVwGQ40.js";import{g as h}from"./index-35H_NU9g.js";function E(t){const e=new Date,[n,o]=t.split(":");e.setHours(n),e.setMinutes(o);const c={hour:"numeric",minute:"numeric",hour12:!0};return e.toLocaleString("ko-KR",c)}const I=r(".writeBoardSecond-next-button"),A=r(".writeBoard-back-button"),w=r(".writeBoard-input"),D=p(".writeBoardCategory"),m=document.querySelector(".writeBoardSecond-title"),T=p(".writeBoardSecond-people-button"),N=r(".writeBoardSecond-location-button"),P=r(".writeBoard-category"),V=r(".selectGenderMenuContainer"),C=new S("https://popcorns.pockethost.io");async function M(t){const[e,n,o,c,a,i,l,u,d,y,g]=t,f=o.replace(/[^a-zA-Z가-힣0-9\s]/g,"").trim(),b=i?i.replace(/[^a-zA-Z가-힣0-9\s]/g,"").trim():"누구나",x={SR_location:e,activity:n,category:f,date:c,meetingLocation:a,gender:b,approve:l,headcount:u,age:d,title:y,time:g};return console.log(x),(await C.collection("community").create(x)).id}async function q(t){const e=r(".warningText"),n=document.querySelectorAll(".w-screen"),o=w.value,c=document.querySelector(".w-screen:not(.hidden)"),a=Array.from(n).indexOf(c),i="date",l="time";t.preventDefault();const u=await O();console.log("value    :",u);const d=await G(u);if(console.log("nowUserId   :",d),!L(o,e))return;const g=[d,j(),$(),v(i),R(),H(),U(),Z(),z(),F(m,o),v(l)];if(n.length>=2){if(a>=0&&a<n.length-1){const f=n[a+1];c.classList.add("hidden"),f.classList.remove("hidden")}a===2&&K(g)}}async function G(t){const n=await k("phoneNumber");return t.find(c=>(c.phoneNumber,c.id)).id}async function O(){return await C.collection("users").getFullList()}function U(){return document.getElementById("myCheckbox").checked}function z(){return document.getElementById("ageAll").value}function H(){const t=Array.from(p(".selectGenderbuttonMenu"));let e="";return t.forEach(n=>{n.classList.contains("isClicked")&&(e=n.textContent)}),e}function v(t){if(t==="date"){const n=document.getElementById("return-date").value;return B(n)}if(t==="time"){const n=document.getElementById("timeInput").value;return E(n)}}function R(){return r(".locationValue").textContent}function Z(){const e=r(".people").textContent;return parseInt(e)}function $(){return r(".selectCategory").textContent}function j(){return document.getElementById("board-content").value}function L(t,e){if(!t&&!e.textContent){h.to(".warningText",{x:-10,duration:.1,repeat:3,yoyo:!0}),s(".warningText","제목을 입력해주세요.");return}if(!t){h.to(".warningText",{x:-10,duration:.1,repeat:3,yoyo:!0});return}return t&&(e.textContent=""),!0}function F(t,e){return t&&(t.textContent="",s(".writeBoardSecond-title",e)),e}async function K(t){const e=await M(t);setTimeout(()=>{window.location.href=`/src/pages/boardContent/index.html#${e}`},"300")}function W(){const t=document.querySelectorAll(".w-screen"),e=document.querySelector(".w-screen:not(.hidden)"),n=Array.from(t).indexOf(e),o=r(".warningText"),c=w.value;if(n<1){window.history.back();return}if(n>0){m&&m.textContent&&L(c,o);const a=t[n-1];e.classList.add("hidden"),a.classList.remove("hidden");return}}function _(){const t=this.classList.toggle("isClicked"),e=this.querySelector(".selectCategoryNav");t?e.classList.remove("group-focus-within:visible","group-focus-within:opacity-100","group-focus-within:translate-y-1"):e.classList.add("group-focus-within:visible","group-focus-within:opacity-100","group-focus-within:translate-y-1")}function J(){const t=r(".selectCategory");t.textContent&&(t.textContent=""),s(".selectCategory",this.textContent)}function Q(){const t=r(".people"),e=this.classList.contains("plus"),n=this.classList.contains("minus");let o=parseInt(t.innerText);if(e&&o<10)o=o+1;else if(n&&o>0)o=o-1;else return;t&&(t.textContent="",s(".people",o+"명"))}function X(){new daum.Postcode({oncomplete:function(t){const e=r(".locationValue");e&&(e.textContent="",s(".locationValue",t.address))}}).open()}function Y(t){const e=t.target.classList.toggle("isClicked"),n=r(".genderValue");Array.from(this.children).forEach(o=>{o!==t.target&&(o.classList.remove("isClicked"),o.classList.remove("bg-primary"),o.classList.remove("text-background"))}),e?(t.target.classList.add("bg-primary"),t.target.classList.add("text-background")):(t.target.classList.remove("bg-primary"),t.target.classList.remove("text-background")),n.textContent="",s(".genderValue",t.target.textContent)}T.forEach(t=>{t.addEventListener("click",Q)});D.forEach(t=>{t.addEventListener("click",J)});I.addEventListener("click",q);A.addEventListener("click",W);N.addEventListener("click",X);V.addEventListener("click",Y);P.addEventListener("click",_);
