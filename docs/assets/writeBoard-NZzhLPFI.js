import"./tailwind-zBIZP7u3.js";import{g as r,a as x,C as k}from"./delay-g6vF19wW.js";import{i as s}from"./insert-yGrdL5nD.js";import{g as B}from"./storage-eNv634Ip.js";import{a as A}from"./formattedDate-dxVwGQ40.js";import{g as y}from"./index-35H_NU9g.js";function I(t){const e=new Date,[n,o]=t.split(":");e.setHours(n),e.setMinutes(o);const c={hour:"numeric",minute:"numeric",hour12:!0};return e.toLocaleString("ko-KR",c)}const D=r(".writeBoardSecond-next-button"),E=r(".writeBoard-back-button"),C=r(".writeBoard-input"),T=x(".writeBoardCategory"),f=document.querySelector(".writeBoardSecond-title"),P=x(".writeBoardSecond-people-button"),V=r(".writeBoardSecond-location-button"),G=r(".selectGenderMenuContainer"),w=new k("https://popcorns.pockethost.io");async function M(t){const[e,n,o,c,a,i,l,d,u,p,g]=t,m=o.replace(/[^a-zA-Z가-힣0-9\s]/g,"").trim(),b=i?i.replace(/[^a-zA-Z가-힣0-9\s]/g,"").trim():"누구나",S=u.replace(/[^a-zA-Z가-힣0-9\s]/g,"").trim(),L={SR_location:e,activity:n,category:m,date:c,meetingLocation:a,gender:b,approve:l,headcount:d,age:S,title:p,time:g};return(await w.collection("community").create(L)).id}async function N(t){const e=r(".warningText"),n=document.querySelectorAll(".w-screen"),o=C.value,c=document.querySelector(".w-screen:not(.hidden)"),a=Array.from(n).indexOf(c),i="date",l="time";t.preventDefault();const d=await O();console.log("value    :",d);const u=await q(d);if(console.log("nowUserId   :",u),!v(o,e))return;const g=[u,j(),$(),h(i),H(),Z(),U(),R(),z(),F(f,o),h(l)];if(n.length>=2){if(a>=0&&a<n.length-1){const m=n[a+1];c.classList.add("hidden"),m.classList.remove("hidden")}a===2&&K(g)}}async function q(t){const n=await B("phoneNumber"),o=t.find(c=>(c.phoneNumber,c.id));return console.log("severValue.id     :",o.id),o.id}async function O(){return await w.collection("users").getFullList()}function U(){return document.getElementById("myCheckbox").checked}function z(){return document.getElementById("ageAll").textContent}function Z(){const t=Array.from(x(".selectGenderbuttonMenu"));let e="";return t.forEach(n=>{n.classList.contains("isClicked")&&(e=n.textContent)}),e}function h(t){if(t==="date"){const n=document.getElementById("return-date").value;return A(n)}if(t==="time"){const n=document.getElementById("timeInput").value;return I(n)}}function H(){return r(".locationValue").textContent}function R(){const e=r(".people").textContent;return parseInt(e)}function $(){return r(".selectCategory").textContent}function j(){return document.getElementById("board-content").value}function v(t,e){if(!t&&!e.textContent){y.to(".warningText",{x:-10,duration:.1,repeat:3,yoyo:!0}),s(".warningText","제목을 입력해주세요.");return}if(!t){y.to(".warningText",{x:-10,duration:.1,repeat:3,yoyo:!0});return}return t&&(e.textContent=""),!0}function F(t,e){return t&&(t.textContent="",s(".writeBoardSecond-title",e)),e}async function K(t){const e=await M(t);setTimeout(()=>{window.location.href=`/src/pages/boardContent/index.html#${e}`},"300")}function W(){const t=document.querySelectorAll(".w-screen"),e=document.querySelector(".w-screen:not(.hidden)"),n=Array.from(t).indexOf(e),o=r(".warningText"),c=C.value;if(n<1){window.history.back();return}if(n>0){f&&f.textContent&&v(c,o);const a=t[n-1];e.classList.add("hidden"),a.classList.remove("hidden");return}}function _(){const t=r(".selectCategory");t.textContent&&(t.textContent=""),s(".selectCategory",this.textContent)}function J(){const t=r(".people"),e=this.classList.contains("plus"),n=this.classList.contains("minus");let o=parseInt(t.innerText);if(e&&o<10)o=o+1;else if(n&&o>0)o=o-1;else return;t&&(t.textContent="",s(".people",o+"명"))}function Q(){new daum.Postcode({oncomplete:function(t){const e=r(".locationValue");e&&(e.textContent="",s(".locationValue",t.address))}}).open()}function X(t){const e=t.target.classList.toggle("isClicked"),n=r(".genderValue");Array.from(this.children).forEach(o=>{o!==t.target&&(o.classList.remove("isClicked"),o.classList.remove("bg-primary"),o.classList.remove("text-background"))}),e?(t.target.classList.add("bg-primary"),t.target.classList.add("text-background")):(t.target.classList.remove("bg-primary"),t.target.classList.remove("text-background")),n.textContent="",s(".genderValue",t.target.textContent)}P.forEach(t=>{t.addEventListener("click",J)});T.forEach(t=>{t.addEventListener("click",_)});D.addEventListener("click",N);E.addEventListener("click",W);V.addEventListener("click",Q);G.addEventListener("click",X);
