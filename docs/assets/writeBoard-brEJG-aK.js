import"./tailwind-WJoQXHVu.js";import{g as c,a as x,C as B}from"./delay-g6vF19wW.js";import{i}from"./insert-yGrdL5nD.js";import{g as A}from"./storage-eNv634Ip.js";import{a as E}from"./formattedDate-dxVwGQ40.js";import{g as h}from"./index-35H_NU9g.js";function I(t){const n=new Date,[o,r]=t.split(":");n.setHours(o),n.setMinutes(r);const a={hour:"numeric",minute:"numeric",hour12:!0};return n.toLocaleString("ko-KR",a)}const D=c(".writeBoardSecond-next-button"),T=c(".writeBoard-back-button"),C=c(".writeBoard-input"),N=x(".writeBoardCategory"),p=document.querySelector(".writeBoardSecond-title"),P=x(".writeBoardSecond-people-button"),V=c(".writeBoardSecond-location-button"),M=c(".writeBoard-category"),q=c(".selectGenderMenuContainer"),v=new B("https://popcorns.pockethost.io");async function G(t){const[n,o,r,a,s,u,g,d,l,y,f]=t,m=r.replace(/[^a-zA-Z가-힣0-9\s]/g,"").trim(),b=u?u.replace(/[^a-zA-Z가-힣0-9\s]/g,"").trim():"누구나",S=l.replace(/[^a-zA-Z가-힣0-9\s]/g,"").trim(),k={SR_location:n,activity:o,category:m,date:a,meetingLocation:s,gender:b,approve:g,headcount:d,age:S,title:y,time:f};return(await v.collection("community").create(k)).id}async function O(t){const n=c(".warningText"),o=document.querySelectorAll(".w-screen"),r=C.value,a=document.querySelector(".w-screen:not(.hidden)"),s=Array.from(o).indexOf(a),u="date",g="time";t.preventDefault();const d=await z();console.log("value    :",d);const l=await U(d);if(console.log("nowUserId   :",l),!L(r,n))return;const f=[l,K(),F(),w(u),$(),R(),Z(),j(),H(),W(p,r),w(g)];if(o.length>=2){if(s>=0&&s<o.length-1){const m=o[s+1];a.classList.add("hidden"),m.classList.remove("hidden")}s===2&&_(f)}}async function U(t){const o=await A("phoneNumber"),r=t.find(a=>(a.phoneNumber,a.id));return console.log("severValue.id     :",r.id),r.id}async function z(){return await v.collection("users").getFullList()}function Z(){return document.getElementById("myCheckbox").checked}function H(){return document.getElementById("ageAll").textContent}function R(){const t=Array.from(x(".selectGenderbuttonMenu"));let n="";return t.forEach(o=>{o.classList.contains("isClicked")&&(n=o.textContent)}),n}function w(t){if(t==="date"){const o=document.getElementById("return-date").value;return E(o)}if(t==="time"){const o=document.getElementById("timeInput").value;return I(o)}}function $(){return c(".locationValue").textContent}function j(){const n=c(".people").textContent;return parseInt(n)}function F(){return c(".selectCategory").textContent}function K(){return document.getElementById("board-content").value}function L(t,n){if(!t&&!n.textContent){h.to(".warningText",{x:-10,duration:.1,repeat:3,yoyo:!0}),i(".warningText","제목을 입력해주세요.");return}if(!t){h.to(".warningText",{x:-10,duration:.1,repeat:3,yoyo:!0});return}return t&&(n.textContent=""),!0}function W(t,n){return t&&(t.textContent="",i(".writeBoardSecond-title",n)),n}async function _(t){const n=await G(t);setTimeout(()=>{window.location.href=`/src/pages/boardContent/index.html#${n}`},"300")}function J(){const t=document.querySelectorAll(".w-screen"),n=document.querySelector(".w-screen:not(.hidden)"),o=Array.from(t).indexOf(n),r=c(".warningText"),a=C.value;if(o<1){window.history.back();return}if(o>0){p&&p.textContent&&L(a,r);const s=t[o-1];n.classList.add("hidden"),s.classList.remove("hidden");return}}function Q(){const t=this.classList.toggle("isClicked"),n=this.querySelector(".selectCategoryNav");t?n.classList.remove("group-focus-within:visible","group-focus-within:opacity-100","group-focus-within:translate-y-1"):n.classList.add("group-focus-within:visible","group-focus-within:opacity-100","group-focus-within:translate-y-1")}function X(){const t=c(".selectCategory");t.textContent&&(t.textContent=""),i(".selectCategory",this.textContent)}function Y(){const t=c(".people"),n=this.classList.contains("plus"),o=this.classList.contains("minus");let r=parseInt(t.innerText);if(n&&r<10)r=r+1;else if(o&&r>0)r=r-1;else return;t&&(t.textContent="",i(".people",r+"명"))}function tt(){new daum.Postcode({oncomplete:function(t){const n=c(".locationValue");n&&(n.textContent="",i(".locationValue",t.address))}}).open()}function et(){const t=e.target.classList.toggle("isClicked"),n=c(".genderValue");Array.from(this.children).forEach(o=>{o!==e.target&&(o.classList.remove("isClicked"),o.classList.remove("bg-primary"),o.classList.remove("text-background"))}),t?(e.target.classList.add("bg-primary"),e.target.classList.add("text-background")):(e.target.classList.remove("bg-primary"),e.target.classList.remove("text-background")),n.textContent="",i(".genderValue",e.target.textContent)}P.forEach(t=>{t.addEventListener("click",Y)});N.forEach(t=>{t.addEventListener("click",X)});D.addEventListener("click",O);T.addEventListener("click",J);V.addEventListener("click",tt);q.addEventListener("click",et);M.addEventListener("click",Q);
